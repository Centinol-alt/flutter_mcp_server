# Codebase File Guide

This document describes the purpose of each code file in the repository for future maintainers and contributors.

---

## Root Directory
- **README.md**: Project overview, setup instructions, and deployment guide.
- **LICENSE**: MIT license for open-source use.
- **.gitignore**: Specifies files and directories to exclude from version control.
- **.env**: Local environment variables (should not be committed).
- **.env.example**: Template for required environment variables.
- **pubspec.yaml**: Dart package dependencies and project metadata.
- **pubspec.lock**: Locked dependency versions for reproducible builds.
- **analysis_options.yaml**: Dart analysis and linting configuration.
- **Dockerfile**: Multi-stage file that builds the Dart MCP server for Linux deployment. Compiles `bin/flutter_mcp_server.dart` to a native binary (`server`) and sets up the runtime image for Smithery and local containerized runs. 
    - **Recent Fix:** Now references the correct Dart entrypoint and binary (`bin/flutter_mcp_server.dart` â†’ `server`). Runtime stage copies and runs `/app/bin/server` as entrypoint.
- **smithery.yaml**: Specifies the stdio start command and environment variable schema for Smithery deployment. Ensures that the correct environment variables are passed to the server at runtime.
    - **Recent Fix:** Confirmed config schema and command match the server and Dockerfile setup.
- **CHANGELOG.md**: (If present) Project changelog.

## bin/
- **bin/flutter_mcp_server.dart**: Main entrypoint. Initializes the MCP server, registers tool handlers, and starts the stdio server for Smithery.
    - **2025-04-24:** Now enables the `resources` capability and includes an example resource endpoint (`example_resource`) with in-memory caching logic for repeated queries.

## lib/
- **lib/flutter_mcp_server.dart**: Default library file (currently contains a sample function; can be expanded for shared logic).

## test/
- **test/**: Directory for unit and integration tests (add test files as needed).
- **test/performance_benchmark_test.dart**: Performance benchmark tests for MCP tool handlers (`analyze`, `format`, `test`). Measures execution time and prints results to help monitor and optimize tool/server performance.

## memory-bank/
- **memory-bank/implementation-plan.md**: Step-by-step plan for project setup, development, and Smithery deployment.
- **memory-bank/smithery-deployment-doc.md**: Requirements and best practices for Smithery deployment.
- **memory-bank/MCP-overview.md**: High-level design and architecture for the MCP server.
- **memory-bank/tech-stack.md**: Overview of the technology stack and dependencies.
- **memory-bank/progress.md**: Project progress log (this file).
- **memory-bank/file-guide.md**: This file guide; describes every code file in the repo.

---

**Note:**
- Additional files and directories (e.g., `.dart_tool/`, `.git/`) are generated by Dart tools or Git and are not meant to be edited manually.
- Update this guide as the codebase evolves!
